<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="T. Giraud &amp; N. Lambert" />
  <title>Reproducible Cartography: An Extension of the R Software for Thematic Mapping</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="index_files/reveal.js-3.3.0.1/css/theme/moon.css" id="theme">

<style type="text/css">
.reveal section img {
  background: rgba(255, 255, 255, 0.85);
}
</style>

  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>


<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">Reproducible Cartography: An Extension of the R Software for Thematic Mapping</h1>
    <h2 class="author">T. Giraud &amp; N. Lambert</h2>
    <h3 class="date">July 6, 2017 - ICC 2017 - Washington DC, USA</h3>
</section>

<section><section id="science-is-infallible-but-scientists-are-always-wrong.-anatole-france-1889" class="titleslide slide level1"><h1>“Science is infallible; <br/> but scientists are always wrong.”<br/><small><small>Anatole France, 1889</small></small><br/><img src="img/wrong.jpg" alt="science" style="border:0px"/></h1></section><section id="reproducible-research" class="slide level2">
<h1>Reproducible Research</h1>
<ul>
<li><p>Sciences are based on the principle of reproducibility.</p></li>
<li><p>Reproducibility helps to assess the validity of studies.</p></li>
<li><p>It may be easier to reproduce studies in computer based sciences.</p></li>
</ul>
</section><section id="the-reproducibility-spectrum" class="slide level2">
<h1>The Reproducibility Spectrum</h1>
<p><img src="img/peng-spectrum.jpg" alt="Peng, 2011" style="width: 100%; border:0px"/> <small>Peng, 2011</small> </br></p>
<p>The main idea is to release studies along with data and computer code that support scientific findings.</p>
</section><section id="map-reproducibility" class="slide level2">
<h1>Map Reproducibility ?</h1>
<p>Maps are part of scientific studies and should be reproducible.</p>
<p><img src="img/maparticle.jpg" alt="Peng, 2011" style="width: 64%; border:0px"/></p>
</section><section id="map-reproducibility-1" class="slide level2">
<h1>Map Reproducibility ?</h1>
<ul>
<li>Keep traces of computations<br />
</li>
<li>Share methods<br />
</li>
<li>Publish transparent studies</li>
<li>Update easily<br />
</li>
<li>Work collectively<br />
</li>
<li>Automatize tasks</li>
<li>Combine analysis and representations</li>
</ul>
</section><section id="map-reproducibility-2" class="slide level2" data-transition="convex-in fade-out">
<h1>Map Reproducibility ?</h1>
<p><img src="img/chain1.png" alt="Drawing" style="border:0px"/><br />
Statistical maps production uses a wide range of software products and data formats.</p>
</section><section id="map-reproducibility-3" class="slide level2" data-transition="fade-in convex-out">
<h1>Map Reproducibility ?</h1>
<p><img src="img/chain2.png" alt="Drawing" style="border:0px"/><br />
This diversity makes reproducibility difficult.</p>
</section><section id="map-reproducibility-4" class="slide level2">
<h1>Map Reproducibility ?</h1>
<p><img src="img/Fig01.png" alt="Drawing" style="border:0px"/></p>
<p>We need a single tool to simplify the toolchain and ensure an easy reproducibility.</p>
</section></section>
<section><section id="how" class="titleslide slide level1" data-background="./img/computerrage.gif"><h1>How ?</h1></section><section id="pick-an-appropriate-tool" class="slide level2" data-transition="convex-in fade-out">
<h1>Pick an appropriate tool</h1>
<p><img src="img/Rlogo.png" alt="Drawing" style="border:0px;width:200px"/></p>
<p style="text-align: left;">
R is a free software environment for statistical computing and graphics. It compiles and runs on a wide variety of UNIX platforms, Windows and MacOS.
</p>
</section><section id="pick-an-appropriate-tool-1" class="slide level2" data-transition="fade-in convex-out">
<h1>Pick an appropriate tool</h1>
<p><img src="img/Rlogo.png" alt="Drawing" style="border:0px;width:200px"/></p>
<ul>
<li><p>A large ecosystem of user-contributed extensions (packages)</p></li>
<li><p>A pretty IDE (RStudio)</p></li>
<li><p>Very good literate programming functionnalities (rmarkdown)</p></li>
</ul>
</section><section id="from-a-complex-toolchain" class="slide level2" data-transition="convex-in fade-out">
<h1>From a complex toolchain…</h1>
<p><img src="img/chain2.png" alt="Drawing" style="width: 100%;border:0px"/></p>
</section><section id="to-an-unified-workflow" class="slide level2" data-transition="fade-in convex-out">
<h1>… to an unified workflow</h1>
<p><img src="img/chain3.png" alt="Drawing" style="width: 100%;border:0px"/></p>
</section></section>
<section><section id="cartography" class="titleslide slide level1"><h1>cartography <br/><br/><img src="img/cartomix.png" alt="science" style="width:600px;border:0px"/></h1></section><section id="some-simple-maps" class="slide level2">
<h1>Some simple maps</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(cartography)
<span class="co"># Load data</span>
<span class="kw">data</span>(nuts2006)
<span class="co"># save map</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map1.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">1.2</span>,<span class="dv">0</span>))
<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">col =</span> <span class="st">&quot;#D1914D&quot;</span>, <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>, 
     <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="co"># transform to thousand of inhabitants</span>
nuts0.df$pop &lt;-<span class="st"> </span>nuts0.df$pop2008/<span class="dv">1000</span>
<span class="co"># Plot the population</span>
<span class="kw">propSymbolsLayer</span>(<span class="dt">spdf =</span> nuts0.spdf, <span class="dt">df =</span> nuts0.df, 
                 <span class="dt">inches =</span> <span class="fl">0.2</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>, 
                 <span class="dt">var =</span> <span class="st">&quot;pop&quot;</span>, <span class="dt">legend.pos =</span> <span class="st">&quot;right&quot;</span>, 
                 <span class="dt">legend.values.rnd =</span> <span class="dv">0</span>, 
                 <span class="dt">legend.title.txt =</span> 
                   <span class="st">&quot;Population, 2008</span><span class="ch">\n</span><span class="st">(thousands of inh.)&quot;</span>, 
                 <span class="dt">legend.frame =</span> F)
<span class="co"># Layout plot</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;propSymbolsLayer()&quot;</span>,
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, 
            <span class="dt">frame =</span> <span class="ot">FALSE</span>, <span class="dt">scale =</span> <span class="ot">NULL</span>, <span class="dt">theme =</span> <span class="st">&quot;wine.pal&quot;</span>, 
            <span class="dt">north =</span> <span class="ot">TRUE</span>)  
<span class="kw">dev.off</span>()






<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="some-simple-maps-1" class="slide level2">
<h1>Some simple maps</h1>
<p><img src="img/map1.png" alt="map1" style="border:0px"/></p>
</section><section id="some-simple-maps-2" class="slide level2">
<h1>Some simple maps</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># save map</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map2.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">1.2</span>,<span class="dv">0</span>))
<span class="co"># compute the GDP per inhabitants</span>
nuts0.df$gdpinh &lt;-<span class="st"> </span>nuts0.df$gdppps2008 *<span class="st"> </span><span class="fl">1e+06</span>/nuts0.df$pop2008
<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># plot the gdp per inhabitant</span>
<span class="kw">choroLayer</span>(<span class="dt">spdf =</span> nuts0.spdf, <span class="dt">df =</span> nuts0.df, <span class="dt">var =</span> <span class="st">&quot;gdpinh&quot;</span>, 
           <span class="dt">col =</span> <span class="kw">carto.pal</span>(<span class="dt">pal1 =</span> <span class="st">&quot;green.pal&quot;</span>, <span class="dt">n1 =</span> <span class="dv">4</span>), 
           <span class="dt">method =</span> <span class="st">&quot;quantile&quot;</span>, <span class="dt">nclass =</span> <span class="dv">4</span>, <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>, 
           <span class="dt">lwd =</span> <span class="fl">0.5</span>, <span class="dt">legend.pos =</span> <span class="st">&quot;right&quot;</span>, 
           <span class="dt">legend.title.txt =</span> <span class="st">&quot;GDP per inh., 2008</span><span class="ch">\n</span><span class="st">(euros)&quot;</span>, <span class="dt">add =</span> T)

<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;choroLayer()&quot;</span>,
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, 
            <span class="dt">frame =</span> <span class="ot">FALSE</span>, <span class="dt">scale =</span> <span class="ot">NULL</span>, <span class="dt">theme =</span> <span class="st">&quot;green.pal&quot;</span>, 
            <span class="dt">north =</span> <span class="ot">FALSE</span>)
<span class="kw">dev.off</span>()










<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="some-simple-maps-3" class="slide level2">
<h1>Some simple maps</h1>
<p><img src="img/map2.png" alt="map2" style="border:0px"/></p>
</section><section id="some-simple-maps-4" class="slide level2">
<h1>Some simple maps</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># save map</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map3.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">1.2</span>,<span class="dv">0</span>))
<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># Plot the gdp per inhabitant</span>
<span class="kw">choroLayer</span>(<span class="dt">spdf =</span> nuts0.spdf, <span class="dt">df =</span> nuts0.df, <span class="dt">var =</span> <span class="st">&quot;gdpinh&quot;</span>, 
           <span class="dt">col =</span> <span class="kw">carto.pal</span>(<span class="dt">pal1 =</span> <span class="st">&quot;sand.pal&quot;</span>, 
                           <span class="dt">n1 =</span> <span class="dv">4</span>), <span class="dt">method =</span> <span class="st">&quot;quantile&quot;</span>, 
           <span class="dt">nclass =</span> <span class="dv">4</span>, <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>, 
           <span class="dt">legend.pos =</span> <span class="st">&quot;right&quot;</span>, 
           <span class="dt">legend.title.txt =</span> <span class="st">&quot;GDP per inh., 2008</span><span class="ch">\n</span><span class="st">(euros)&quot;</span>, <span class="dt">add =</span> T)

<span class="co"># Plot the population</span>
<span class="kw">propSymbolsLayer</span>(<span class="dt">spdf =</span> nuts0.spdf, <span class="dt">df =</span> nuts0.df, 
                 <span class="dt">inches =</span> <span class="fl">0.2</span>, <span class="dt">lwd =</span> <span class="fl">1.25</span>, 
                 <span class="dt">var =</span> <span class="st">&quot;pop&quot;</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">&quot;#940000&quot;</span>, 
                 <span class="dt">legend.pos =</span> <span class="st">&quot;topright&quot;</span>, <span class="dt">legend.values.rnd =</span> <span class="dv">0</span>, 
                 <span class="dt">legend.title.txt =</span> 
                   <span class="st">&quot;Population, 2008</span><span class="ch">\n</span><span class="st">(thousands of inh.)&quot;</span>, 
                 <span class="dt">legend.frame =</span> F)

<span class="co"># layout</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;propSymbolsLayer() + choroLayer()&quot;</span>, 
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, 
            <span class="dt">scale =</span> <span class="ot">NULL</span>, <span class="dt">theme =</span> <span class="st">&quot;sand.pal&quot;</span>, 
            <span class="dt">north =</span> <span class="ot">FALSE</span>, <span class="dt">frame =</span> <span class="ot">FALSE</span>)
<span class="kw">dev.off</span>()






<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="some-simple-maps-5" class="slide level2">
<h1>Some simple maps</h1>
<p><img src="img/map3.png" alt="map3" style="border:0px"/></p>
</section><section id="some-simple-maps-6" class="slide level2">
<h1>Some simple maps</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># save map</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map4.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">1.2</span>,<span class="dv">0</span>))
<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">col =</span> <span class="st">&quot;#EAE797&quot;</span>, <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>, 
     <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># Plot symbols with choropleth coloration</span>
<span class="kw">propSymbolsChoroLayer</span>(<span class="dt">spdf =</span> nuts0.spdf, <span class="dt">df =</span> nuts0.df, 
                      <span class="dt">var =</span> <span class="st">&quot;pop&quot;</span>, <span class="dt">inches =</span> <span class="fl">0.3</span>, 
                      <span class="dt">var2 =</span> <span class="st">&quot;gdpinh&quot;</span>, 
                      <span class="dt">col =</span> <span class="kw">carto.pal</span>(<span class="dt">pal1 =</span> <span class="st">&quot;blue.pal&quot;</span>, <span class="dt">n1 =</span> <span class="dv">4</span>), 
                      <span class="dt">symbols =</span> <span class="st">&quot;square&quot;</span>, 
                      <span class="dt">method =</span> <span class="st">&quot;quantile&quot;</span>, <span class="dt">nclass =</span> <span class="dv">4</span>, 
                      <span class="dt">border =</span> <span class="st">&quot;grey50&quot;</span>, 
                      <span class="dt">lwd =</span> <span class="fl">0.5</span>, <span class="dt">legend.var.pos =</span> <span class="st">&quot;topright&quot;</span>, 
                      <span class="dt">legend.var.values.rnd =</span> <span class="dv">0</span>, 
                      <span class="dt">legend.var.style =</span> <span class="st">&quot;e&quot;</span>, 
                      <span class="dt">legend.var2.pos =</span> <span class="st">&quot;right&quot;</span>, 
                      <span class="dt">legend.var2.values.rnd =</span> <span class="dv">0</span>,
                      <span class="dt">legend.var.title.txt =</span> 
                        <span class="st">&quot;Population, 2008</span><span class="ch">\n</span><span class="st">(thousands of inh.)&quot;</span>,
                      <span class="dt">legend.var2.title.txt =</span> 
                        <span class="st">&quot;GDP per inh., 2008</span><span class="ch">\n</span><span class="st">(euros)&quot;</span>)


<span class="co"># layout</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;propSymbolsChoroLayer()&quot;</span>, 
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>,
            <span class="dt">frame =</span> <span class="ot">FALSE</span>, 
            <span class="dt">theme =</span> <span class="st">&quot;blue.pal&quot;</span>, <span class="dt">scale =</span> <span class="dv">500</span>, <span class="dt">north =</span> <span class="ot">FALSE</span>)
<span class="kw">dev.off</span>()






<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="some-simple-maps-7" class="slide level2">
<h1>Some simple maps</h1>
<p><img src="img/map4.png" alt="map4" style="border:0px"/></p>
</section><section id="gridded-map" class="slide level2">
<h1>Gridded Map</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a grid layer</span>
mygrid &lt;-<span class="st"> </span><span class="kw">getGridLayer</span>(<span class="dt">spdf =</span> nuts3.spdf, <span class="dt">cellsize =</span> <span class="fl">1e+05</span>, 
                       <span class="dt">type =</span> <span class="st">&quot;hexagonal&quot;</span>)
<span class="co"># Compute data for the grid layer</span>
df1 &lt;-<span class="st"> </span><span class="kw">getGridData</span>(<span class="dt">x =</span> mygrid, <span class="dt">df =</span> nuts3.df, <span class="dt">var =</span> <span class="st">&quot;pop2008&quot;</span>)
df2 &lt;-<span class="st"> </span><span class="kw">getGridData</span>(<span class="dt">x =</span> mygrid, <span class="dt">df =</span> nuts3.df, <span class="dt">var =</span> <span class="st">&quot;pop1999&quot;</span>)

<span class="co"># Compute the compound annual growth rate</span>
df1$cagr &lt;-<span class="st"> </span>(((df1$pop2008/df2$pop1999)^(<span class="dv">1</span>/<span class="dv">9</span>)) -<span class="st"> </span><span class="dv">1</span>) *<span class="st"> </span><span class="dv">100</span>
v &lt;-<span class="st"> </span><span class="kw">getBreaks</span>(<span class="dt">v =</span> df1$cagr, <span class="dt">method =</span> <span class="st">&quot;quantile&quot;</span>, <span class="dt">nclass =</span> <span class="dv">10</span>)
v[<span class="dv">5</span>] &lt;-<span class="st"> </span><span class="dv">0</span>

<span class="co"># set a color palette</span>
cols &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;#f18b61&quot;</span>, <span class="st">&quot;#f7b48c&quot;</span>, <span class="st">&quot;#f3d9b7&quot;</span>, <span class="st">&quot;#f1eccd&quot;</span>, 
          <span class="st">&quot;#c0dec2&quot;</span>, <span class="st">&quot;#91caa4&quot;</span>, <span class="st">&quot;#63b285&quot;</span>, <span class="st">&quot;#329966&quot;</span>, 
          <span class="st">&quot;#26734d&quot;</span>, <span class="st">&quot;#1a4c33&quot;</span>)


<span class="co"># save the map in png format</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map5.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.2</span>, <span class="dv">0</span>))

<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#CCCCCC&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># plot the choropleth grid</span>
<span class="kw">choroLayer</span>(<span class="dt">spdf =</span> mygrid$spdf, <span class="dt">df =</span> df1, <span class="dt">var =</span> <span class="st">&quot;cagr&quot;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, 
           <span class="dt">col =</span> cols, <span class="dt">lwd =</span> <span class="fl">0.6</span>, <span class="dt">border =</span> <span class="st">&quot;#FFFFFF60&quot;</span>, 
           <span class="dt">legend.pos =</span> <span class="st">&quot;right&quot;</span>, <span class="dt">breaks =</span> v, <span class="dt">legend.values.rnd =</span> <span class="dv">2</span>, 
           <span class="dt">legend.title.txt =</span> <span class="st">&quot;Compound Annual</span><span class="ch">\n</span><span class="st">Growth Rate&quot;</span>)

<span class="co"># plot countries boundaries</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">add =</span> T, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">&quot;#56514c&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.7</span>)

<span class="co"># Plot a layout</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;Demographic Trends, 1999-2008&quot;</span>, 
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, <span class="dt">frame =</span> <span class="ot">TRUE</span>, 
            <span class="dt">scale =</span> <span class="dv">500</span>, <span class="dt">north =</span> <span class="ot">TRUE</span>, <span class="dt">theme =</span> <span class="st">&quot;taupe.pal&quot;</span>)
<span class="kw">dev.off</span>()






<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="gridded-map-1" class="slide level2">
<h1>Gridded Map</h1>
<p><img src="img/map5.png" alt="map5" style="border:0px"/></p>
</section><section id="discontinuities-map" class="slide level2">
<h1>Discontinuities map</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a SpatialLinesDataFrame of countries borders</span>
nuts2.contig &lt;-<span class="st"> </span><span class="kw">getBorders</span>(nuts2.spdf)
nuts2.df$gdpcap &lt;-<span class="st"> </span>nuts2.df$gdppps2008/nuts2.df$pop2008 *<span class="st"> </span><span class="fl">1e+06</span>

<span class="co"># save the map in png format</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map6.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.2</span>, <span class="dv">0</span>))

<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts2.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># Plot GDP per capita with a choropleth layer</span>
<span class="kw">choroLayer</span>(<span class="dt">spdf =</span> nuts2.spdf, <span class="dt">df =</span> nuts2.df, <span class="dt">var =</span> <span class="st">&quot;gdpcap&quot;</span>, 
           <span class="dt">border =</span> <span class="st">&quot;grey20&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.2</span>, 
           <span class="dt">col =</span> <span class="kw">carto.pal</span>(<span class="dt">pal1 =</span> <span class="st">&quot;green.pal&quot;</span>, <span class="dt">n1 =</span> <span class="dv">3</span>, <span class="st">&quot;sand.pal&quot;</span>, <span class="dv">3</span>), 
           <span class="dt">method =</span> <span class="st">&quot;quantile&quot;</span>, <span class="dt">nclass =</span> <span class="dv">6</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, 
           <span class="dt">legend.pos =</span> <span class="st">&quot;right&quot;</span>, <span class="dt">legend.values.rnd =</span> -<span class="dv">2</span>, 
           <span class="dt">legend.title.txt =</span> <span class="st">&quot;GDP per Capita</span><span class="ch">\n</span><span class="st">(in euros)&quot;</span>)

<span class="co"># Plot discontinuities</span>
<span class="kw">discLayer</span>(<span class="dt">spdf =</span> nuts2.contig, <span class="dt">df =</span> nuts2.df, 
          <span class="dt">var =</span> <span class="st">&quot;gdpcap&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;rel&quot;</span>, 
          <span class="dt">method =</span> <span class="st">&quot;equal&quot;</span>, <span class="dt">nclass =</span> <span class="dv">3</span>, <span class="dt">threshold =</span> <span class="fl">0.4</span>, 
          <span class="dt">sizemin =</span> <span class="fl">0.7</span>, <span class="dt">sizemax =</span> <span class="dv">6</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, 
          <span class="dt">legend.values.rnd =</span> <span class="dv">1</span>, <span class="dt">legend.pos =</span> <span class="st">&quot;topright&quot;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>,
          <span class="dt">legend.title.txt =</span> 
            <span class="st">&quot;Discontinuities in </span><span class="ch">\n</span><span class="st">GDP per Capita</span><span class="ch">\n</span><span class="st">(relative)&quot;</span>)

<span class="co"># Layout</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;Wealth Disparities in Europe, 2008&quot;</span>, 
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, <span class="dt">frame =</span> <span class="ot">TRUE</span>, 
            <span class="dt">scale =</span> <span class="dv">500</span>, <span class="dt">north =</span> <span class="ot">FALSE</span>, <span class="dt">theme =</span> <span class="st">&quot;grey.pal&quot;</span>)
<span class="kw">dev.off</span>()







<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="discontinuities-map-1" class="slide level2">
<h1>Discontinuities map</h1>
<p><img src="img/map6.png" alt="map6" style="border:0px"/></p>
</section><section id="isopleth-map" class="slide level2">
<h1>Isopleth map</h1>
<p><small></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a grid layer</span>
mygrid &lt;-<span class="st"> </span><span class="kw">getGridLayer</span>(<span class="dt">spdf =</span> nuts3.spdf, <span class="dt">cellsize =</span> <span class="dv">50000</span>, <span class="dt">type =</span> <span class="st">&quot;regular&quot;</span>)

<span class="co"># transform gdp in euros</span>
nuts3.df$gdp &lt;-<span class="st"> </span>nuts3.df$gdppps2008 *<span class="st"> </span><span class="fl">1e+06</span>
<span class="co"># Compute data for the grid layer</span>
df1 &lt;-<span class="st"> </span><span class="kw">getGridData</span>(<span class="dt">x =</span> mygrid, <span class="dt">df =</span> nuts3.df, <span class="dt">var =</span> <span class="st">&quot;pop2008&quot;</span>)
df2 &lt;-<span class="st"> </span><span class="kw">getGridData</span>(<span class="dt">x =</span> mygrid, <span class="dt">df =</span> nuts3.df, <span class="dt">var =</span> <span class="st">&quot;gdp&quot;</span>)
df1$gdp &lt;-<span class="st"> </span>df2$gdp

<span class="co"># list of breaks</span>
v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2920</span>, <span class="dv">5000</span>, <span class="dv">10000</span>, <span class="dv">15000</span>, <span class="dv">20000</span>, <span class="dv">23500</span>, <span class="dv">30000</span>, <span class="dv">35000</span>, <span class="dv">40000</span>, <span class="dv">42720</span>)

<span class="co"># save the map to a png file</span>
<span class="co"># save the map in png format</span>
<span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&quot;img/map7.png&quot;</span>, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">535</span>, <span class="dt">res =</span> <span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.2</span>, <span class="dv">0</span>))

<span class="co"># Plot a background layers</span>
<span class="kw">plot</span>(nuts0.spdf, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">&quot;#A6CAE0&quot;</span>)
<span class="kw">plot</span>(world.spdf, <span class="dt">col =</span> <span class="st">&quot;#E3DEBF&quot;</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># set a color palette</span>
cols &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rev</span>(<span class="kw">carto.pal</span>(<span class="st">&quot;green.pal&quot;</span>, <span class="dv">5</span>)), <span class="kw">carto.pal</span>(<span class="st">&quot;orange.pal&quot;</span>, <span class="dv">4</span>))

<span class="co"># compute &amp; display the potential map</span>
<span class="kw">smoothLayer</span>(<span class="dt">spdf =</span> mygrid$spdf, <span class="dt">df =</span> df1, 
            <span class="dt">var =</span> <span class="st">&quot;gdp&quot;</span>, <span class="dt">var2 =</span> <span class="st">&quot;pop2008&quot;</span>, <span class="dt">breaks =</span> v, 
    <span class="dt">span =</span> <span class="fl">1e+05</span>, <span class="dt">beta =</span> <span class="dv">2</span>, <span class="dt">mask =</span> nuts0.spdf, 
    <span class="dt">resolution =</span> <span class="dv">49000</span>, <span class="dt">col =</span> cols, 
    <span class="dt">legend.title.txt =</span> <span class="st">&quot;Potential</span><span class="ch">\n</span><span class="st">GDP per capita</span><span class="ch">\n</span><span class="st">(in euros)&quot;</span>, 
    <span class="dt">legend.values.rnd =</span> -<span class="dv">2</span>, 
    <span class="dt">border =</span> <span class="st">&quot;grey80&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>, <span class="dt">add =</span> T, <span class="dt">legend.pos =</span> <span class="st">&quot;topright&quot;</span>)

<span class="co"># plot Europe contour</span>
<span class="kw">plot</span>(rgeos::<span class="kw">gBuffer</span>(nuts0.spdf, <span class="ot">FALSE</span>, <span class="dv">1</span>), <span class="dt">add =</span> T, <span class="dt">col =</span> <span class="ot">NA</span>, 
     <span class="dt">border =</span> <span class="st">&quot;grey50&quot;</span>)

<span class="co"># plot a layout</span>
<span class="kw">layoutLayer</span>(<span class="dt">title =</span> <span class="st">&quot;Wealth Inequalities in Europe, 2008&quot;</span>, 
            <span class="dt">author =</span> <span class="st">&quot;Package cartography v1.4.2&quot;</span>, 
            <span class="dt">sources =</span> <span class="st">&quot;Source: Eurostat, 2011&quot;</span>, <span class="dt">frame =</span> <span class="ot">TRUE</span>, 
            <span class="dt">scale =</span> <span class="dv">500</span>, <span class="dt">north =</span> <span class="ot">FALSE</span>, <span class="dt">theme =</span> <span class="st">&quot;sand.pal&quot;</span>)

<span class="co"># plot a text on the map</span>
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">6271272</span>, <span class="dt">y =</span> <span class="dv">3600000</span>, 
     <span class="dt">labels =</span> <span class="st">&quot;Distance function:</span><span class="ch">\n</span><span class="st">- type = exponential</span><span class="ch">\n</span><span class="st">- beta = 2</span><span class="ch">\n</span><span class="st">- span = 100 km&quot;</span>, 
     <span class="dt">cex =</span> <span class="fl">0.8</span>, <span class="dt">adj =</span> <span class="dv">0</span>, <span class="dt">font =</span> <span class="dv">3</span>)

<span class="kw">dev.off</span>()











<span class="co">#                                                                                                         .</span></code></pre></div>
<p></small></p>
</section><section id="isopleth-map-1" class="slide level2">
<h1>Isopleth map</h1>
<p><img src="img/map7.png" alt="map7" style="border:0px"/></p>
</section></section>
<section><section id="thank-you" class="titleslide slide level1" data-transition="convex-in fade-out"><h1>Thank you</h1></section><section id="thank-you-1" class="slide level2" data-transition="fade-in fade-out">
<h1>Thank you</h1>
<p><strong>Paper / Code / Slides</strong><br />
<a href="https://github.com/riatelab/ReproducibleCartography/" class="uri">https://github.com/riatelab/ReproducibleCartography/</a><br />
<br/> <strong>cartography</strong><br />
Github: <a href="https://github.com/riatelab/cartography" class="uri">https://github.com/riatelab/cartography</a><br />
CRAN: <a href="https://cran.r-project.org/web/packages/cartography/index.html">https://cran.r-project.org/web/packages/cartography/</a><br />
<br/> <strong>Blogs</strong><br />
neocarto: <a href="https://neocarto.hypotheses.org/">neocarto.hypotheses.org</a><br />
rgeomatic: <a href="https://rgeomatic.hypotheses.org/">rgeomatic.hypotheses.org</a></p>
</section></section>
    </div>
  </div>

  <script src="index_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="index_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: false,
        // Transition style
        transition: 'default', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
          { src: 'index_files/reveal.js-3.3.0.1/plugin/notes/notes.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
